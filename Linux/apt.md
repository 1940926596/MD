## apt update 和 apt upgrade

`apt update` 命令用于更新本地软件包列表。当您安装软件包时，系统需要了解可用的软件包版本和其相关信息。此命令将检查系统可用的所有软件包的最新版本，并将它们存储在本地的软件包列表中。这将使您在安装新软件包或更新现有软件包时能够快速访问这些软件包。

**这条命令的作用就是将本地的软件包的信息更新成你Linux服务器最新的软件包信息**

**所以本地的软件包信息会进行更新，更新成镜像站中最新版本的信息**

`apt upgrade` 命令用于升级已经安装的软件包到其最新版本。当您执行此命令时，系统将比较已安装软件包的版本和可用软件包列表中的最新版本，并升级它们。升级软件包可以提高系统的安全性和性能，因为最新版本通常修复了漏洞和错误，并改进了软件包的功能。

**会根据本地的最新软件包信息进行更新，所以在运行apt upgrade 之前 需要先运行 apt update命令**

在执行 `apt upgrade` 命令之前，需要先运行 `apt update` 命令来更新本地软件包列表。因为 `apt update` 命令会从软件源中下载最新的软件包列表，并将它们存储在本地系统中。这样，当您运行 `apt upgrade` 命令时，系统就能够比较本地软件包列表中已安装软件包的版本和可用软件包列表中的最新版本，从而决定需要更新哪些软件包。

如果您在运行 `apt upgrade` 命令之前没有先运行 `apt update` 命令，则本地软件包列表中的信息可能已经过时，可能会导致系统无法找到最新版本的软件包。因此，建议在执行任何 `apt` 命令之前都先运行 `apt update` 命令，以确保您的软件包列表是最新的。

****

## 安装软件包的时候是查看本地的软件包信息还是在网上去寻找

**在本地的软件包列表中寻找**

当您使用 `apt` 命令安装软件包时，系统会首先从本地的软件包列表中查找该软件包的信息。如果软件包不存在于本地软件包列表中，系统将会从您配置的软件源中下载该软件包及其依赖项。软件源是包含软件包的仓库，它通常托管在互联网上，例如 Ubuntu 官方仓库。

因此，在安装软件包时，系统首先会查找本地软件包列表中是否存在该软件包的信息，如果存在，则使用本地软件包列表中的信息进行安装。否则，它将从软件源中下载该软件包和其依赖项并安装。

## apt安装特定版本

在 Ubuntu 或其他基于 Debian 的 Linux 系统上，可以使用 `apt` 命令来安装特定版本的软件包。以下是使用 `apt` 指定安装版本的步骤：

1. 打开终端。

2. 确定要安装软件包的名称。例如，假设要安装的软件包是 `package-name`。

3. 确定可用的版本号。可以使用以下命令列出所有可用的版本：
   ```shell
   apt-cache showpkg package-name
   ```

4. 选择要安装的特定版本号。

5. 使用以下命令安装指定版本的软件包：
   ```shell
   sudo apt-get install package-name=版本号
   ```
   将 "package-name" 替换为要安装的软件包的名称，将 "版本号" 替换为要安装的具体版本号。例如，要安装名为 `package-name` 的软件包的版本 `1.2.3`，可以运行以下命令：
   ```shell
   sudo apt-get install package-name=1.2.3
   ```

6. 系统会提示确认安装，输入管理员密码并按下回车键。

7. 等待安装完成。`apt` 会下载并安装指定版本的软件包及其依赖项。

请注意，如果已经安装了其他版本的软件包，可以使用 `apt-get remove package-name` 命令卸载当前版本，然后再安装所需的版本。

要了解更多关于 `apt` 命令的使用和选项，可以查阅相应的文档或运行 `man apt-get` 命令来获取帮助。

## 卸载

要在APT（Advanced Package Tool）中卸载软件包，可以使用以下命令：

```shell
sudo apt-get remove <package-name>
```

将 `<package-name>` 替换为要卸载的软件包的实际名称。

如果要同时删除软件包及其相关的配置文件，可以使用 `purge` 命令：

```shell
sudo apt-get purge <package-name>
```

同样，将 `<package-name>` 替换为要卸载的软件包的实际名称。

请注意，`apt-get` 命令需要使用管理员权限来运行，因此需要使用 `sudo`。

另外，如果你使用的是较新版本的 Ubuntu（如 16.04 及更高版本）或 Debian 系统，也可以使用 `apt` 命令来代替 `apt-get`。例如：

```shell
sudo apt remove <package-name>
```

或

```shell
sudo apt purge <package-name>
```

以上命令中的 `<package-name>` 需要替换为要卸载的软件包的实际名称。

无论使用 `apt-get` 还是 `apt`，都需要确保输入正确的软件包名称以及具有管理员权限。

## 查看Linux版本

要查看 Linux 发行版的版本信息，可以使用以下命令之一：

1. 使用 `lsb_release` 命令：
   ```shell
   lsb_release -a
   ```

   这个命令会显示出 Linux 发行版的详细信息，包括发行版名称、版本号、Codename 等。

2. 使用 `cat` 命令查看 `/etc/os-release` 文件：
   ```shell
   cat /etc/os-release
   ```

   这个命令会显示 `/etc/os-release` 文件的内容，其中包含了 Linux 发行版的信息，比如 ID、版本号、名称等。

3. 使用 `uname` 命令查看内核版本：
   ```shell
   uname -r
   ```

   这个命令会显示当前正在运行的 Linux 内核的版本号。

这些命令可以在终端中运行，无需管理员权限。根据你的系统配置和所使用的发行版，其中一个或多个命令可能会提供所需的版本信息。

## 打包

- rpm包主要用于redhat及分支如redhat，centos，Fedora等

- 而deb包主要用于debian及分支如debian，ubuntu等。

**rpm格式软件包**

RPM全称是Red Hat Package Manager(Red Hat包管理器)，是由红帽公司最先发布的一种用来打包软件的的文件格式，他是一种特定的用来安装，卸载软件等操作的专门格式，它里面打包的内容必定是一个可以使用的具体软件。

**deb格式软件包**

deb是Debian Linux提供的一个包管理器，它与RPM十分类似。但由于RPM出现得早，并且应用广泛，所以在各种版本的Linux中都常见到，而Debian的包管理器dpkg只出现在Debian Linux中。它的优点是不用被严格的依赖性检查所困扰，缺点是只在Debian Linux发行版中才能见到这个包管理工具

通常，用tar打包的，都是源程序；而用rpm、dpkg打包的则常是可执行程序

Linux应用程序的软件包按内容类别可分为两类：

1.可执行文件（编译后的二进制软件包）

  解开包后就可以直接运行的。在Windows中所有的软件包都是这种类型。安装完这个程序后，你就可以使用，但你看不到源程序。而且下载时要注意这个软件是否是你所使用的平台，否则将无法正常安装。

  优点：使用简单，只需要几个命令就可以实现包的安装、升级、查询、卸载；安装速度快；

  缺点：不能看源代码；功能选择不如源代码灵活；依赖性；

2.源程序（源码包）

  解开包后，你还需要使用编译器将其编译成为可执行文件。这在Windows系统中是几乎没有的，因为Windows的思想是不开放源程序的。

  优点：开源；可以自由选择所需功能；可看源代码；卸载方便（直接删除安装位置）；

  缺点：安装步骤过多；编译时间过长；

### rpm 和 yum 的关系

实际上，`rpm` 和 `yum` 并不是同一样东西，而是密切相关的两个不同工具，它们都服务于软件包的管理，但各有其功能和用途。

1. **rpm**：这是一个基本的软件包管理工具，它直接处理`.rpm`文件，即软件包本身。`rpm`能够安装、升级、删除这些包，但它本身不处理包之间的依赖关系。当你使用`rpm`命令安装一个软件包时，如果该软件包依赖于其他未安装的包，`rpm`不会自动安装这些依赖，而是会报错提示依赖关系未满足。

2. **yum**（或在Fedora 22及以后版本中的`dnf`）：这是一个更高级的包管理工具，它在`rpm`的基础上工作，提供了包依赖性自动解析和处理的功能。`yum`使用的也是`.rpm`文件，但它能自动处理和解决软件包的依赖问题，并从设定的软件仓库中下载并安装所有必需的包。此外，`yum`还能够进行包的搜索、信息显示、管理仓库等多种高级功能。

没有“.yum”为后缀的软件包，是因为`yum`实际上并不定义新的包格式；它仍然使用`.rpm`格式的包，并且利用仓库中的元数据来处理包依赖、软件升级等问题。`yum`使得包管理更为自动化和智能化，但底层依然依赖于`rpm`包和`rpm`工具本身。

因此，`rpm`是基础的包安装工具，而`yum`则是一个更为高级的包管理程序，提供更全面的管理功能。

## apt 和 dpkg 和 deb 的关系

在 Debian 及其衍生的 Linux 发行版（如 Ubuntu）中，`apt`、`dpkg` 和 `.deb` 文件扮演着与 `rpm`、`yum` 在 RPM-based 系统中相似的角色，但具体功能和关系略有不同：

1. **.deb 文件**：
   - 这是 Debian 系统中的软件包格式，相当于 RPM-based 系统中的 `.rpm` 文件。`.deb` 文件包含了编译后的应用程序、安装脚本、元数据和软件包的依赖信息。

2. **dpkg**：
   - `dpkg` 是 Debian 包管理的底层工具，它直接处理 `.deb` 文件的安装、删除、查询等任务。`dpkg` 类似于 RPM-based 系统中的 `rpm` 工具，但它本身不解决依赖问题。如果直接使用 `dpkg` 安装一个有依赖的包，它会提示依赖关系错误，而不会自动下载和安装所需的依赖包。

3. **apt**：
   - `apt`（Advanced Package Tool）是一个更高级的包管理工具，可以自动解决软件包的依赖问题。`apt` 在 `dpkg` 的基础上工作，提供了如自动安装依赖、升级软件包、清理旧版本软件包等高级功能。`apt` 也负责与软件仓库进行通信，从中下载 `.deb` 文件并安装它们。
   - `apt-get` 和 `apt-cache` 是 `apt` 的一部分，分别用于包安装和包搜索。

总结一下，`.deb` 是包的格式，`dpkg` 是处理这些包的低级工具，而 `apt` 则是在 `dpkg` 的基础上，提供更友好的用户界面和自动处理依赖关系的能力。在日常使用中，推荐使用 `apt` 来管理软件，因为它更简单、更能自动处理软件依赖问题。

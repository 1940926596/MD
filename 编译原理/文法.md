首先来看张图，上图是四种文法的包含关系，即 LR(1)文法范围最大，而 LR(0)文法范围最小。同时也说明了四种文法分析过程的强弱，即 LR(1)文法分析最强，而 LR(0)文法分析最弱。![img](https://i-blog.csdnimg.cn/blog_migrate/f59a03b9fe70a030cbdc9208f606558f.png)

那为什么没有 LL(1)文法呢？因为它和上面的四种文法是不同的。

LL(1)分析法是自上而下的分析法。LR(0),LR(1),SLR(1),LALR(1)是自下而上的分析法。

自上而下:从开始符号出发，根据产生式规则推导给定的句子。用的是推导。

自下而上:从给定的句子规约到文法的开始符号。用的是归约。

下面就主要来讲解他们的不同点， **LL(1)单独讲**，其他四种文法分析过程基本有三大步：**写出自动机（即 LR(0)或 LR(1)项集族，后面都称作自动机） -> 构造文法分析表-> 进行文法分析过程**。其中后两步都是类似或者说几乎完全一样的，第一步中的自动机有两种: LR(0)自动机和 LR(1)自动机。LR(0) 和 SLR文法分析用的是 LR(0)自动机，LR(1)和 LALR文法分析用的是 LR(1)自动机。而LR(1)自动机构造方法和LR(0)自动机的构造方法相同，只是多增加了向前搜索符号。

**LL(1)文法判定：**

主要有两种方式，一是依靠 select集，如果对于产生式左部相同的任意两条产生式的 select集相交为空 且 两者不能同时推出空，则是LL(1)文法。二是如果预测分析表中没有多重入口（即分析表的一格中只有一个产生式）则为LL(1)文法。

**LR(0)文法判定：**

如果文法对应的自动机中不存在移进-归约冲突和归约-归约冲突则为 LR(0)文法。换句话说LR(0)文法分析不能解决这两种冲突，所以范围最小。移进-归约冲突就是在同一个项集族中同时出现了可以移进的产生式和可以归约的产生式。归约-归约冲突类似。

**SLR文法判定：**

SLR文法不存在归约-归约冲突，有可能存在移进-归约冲突，但是如果可以用 follow集解决则是 SLR文法。换句话说，SLR文法分析过程可以解决归约-归约冲突，但是不一定能解决移进-归约冲突。用 follow集来处理即出现移进-归约冲突的两条产生式，如果其 follow集相交为空则为 SLR文法，反之不是。当然，如果以上两种冲突都不存在自然是了。

**LALR文法判定：**

有个结论是合并同心集不会产生新的移进-归约冲突，但是会产生新的归约-归约冲突，如果没产生冲突就是 LALR 文法，反之不是。

 **LR(1)文法判定：**

因为 LR(1)文法的范围比较大，所以文法几乎都是 LR(1)的，现在知道的只有当合并同心集产生了归约-归约冲突时才只属于LR(1)文法，而不属于其他文法。

---

##### 一、字母表（有穷符号集合）

###### 1.1 字母表定义

字母表也即**符号集**，用`∑`表示，它是一个**包含各种符号**的**有穷非空集合**。

> 以汉语为例，汉语字母表就是各种汉字、数字、标点符号的集合；以英语为例，英语字母表就是各种字母、数字、标点符号的集合…那么到了编程，字母表就可能是字母、数字、各种专用符号和保留字了。

###### 1.2 字母表上的运算：

1. 乘积
2. n次幂
3. 正闭包
4. 克林闭包![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/47c0c806b02702100377407bfd38af28.png)

##### 二、符号串/串

###### 2.1 符号串相关定义：

符号串是对于字母表来说的一个概念，**字母表的符号串**指的就是**由字母表中各个字符组成的一个有穷序列。**

注意这里的“有穷”，指的是**符号串本身是由有穷个符号组成**，**但是符号串的个数是无穷多的（组合方式不同）**。

> 以字母表 ∑={0,1} 为例，它的符号串就有：0，1，00，01，10，11，000 等等。

**符号串的长度指的是符号串符号的个数**，以 m = 000 为例，|m|= 3。

**空符号串 ε 长度为 0，表示不包含任何符号**，类似于编程中的空字符串 “”。所以有 εm = mε= m。

> 以 m = abc 为例，它的头是 ε，a，ab，abc；它的尾是 ε，c，bc，abc。而它的固有头不考虑末尾符号 c，固有尾不考虑首部符号 a。

###### 2.2 符号串的运算：连接、方幂

1. **符号串的连接**：连接就是**两个字符串顺序拼接**，比如 x = abc，y = def，那么 xy = abcdef。
2. **符号串的方幂**：如果**一个符号串由多个重复符号构成**，如何方便地表示它呢？

> 比如 y = xxxx…xxxx（n 个 x），那么就可以写成 **y = x^n**，此时 **y 就是 x 的方幂**。这点和数学是一样的。不过要注意，**x^0 ≠ 1 = ε**。

> 串s的n次幂：将**n个s连接起来**

------

##### 三、闭包

> 以字母表 ∑ = {a,b} 为例，任何由它的符号串作为构成元素的集合，**都可以称作字母表的符号串集合**。比如说 {ab}，{abab,ababab} 等。

**两个符号串集合的乘积定义为 AB = {xy| x∈A且y∈b}**，其实就是**笛卡尔积**。

一般的字符串集合可能并不能囊括一个字母表的所有符号串，但是有一种集合却能包含所有的符号串，这种特殊的集合称为**闭包，记作 ∑***。

> ***其实就是全选**的意思（联想 CSS 中的通配选择符就好理解了）。

```
∑* = {ε,a,b,ab,ab,ba,aba,aab......} = ∑^0 ∪ ∑^1 ∪ ∑^2 ∪......∪ ∑^n
```

要注意的是，**闭包也包含了空符号串**。

**将闭包中的空符号串去掉**，就成为了**正闭包，也即 ∑+**。
`显然：∑*＝ ∑^0 ∪ ∑+，∑+ = ∑∑* ＝ ∑*∑。`

------

##### 四、文法

###### 4.1 文法在语言体系中的位置

**语言包括语法和语义**两个方面，但是语法和语义都是比较抽象的东西，所以我们需要借助一些工具来阐述它们。


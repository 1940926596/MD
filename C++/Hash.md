# Hash

## 1. Hash 是什么

**Hash（哈希/散列）**：一种把**任意长度的数据**，通过某种规则，**映射到固定长度的数值**的方式。

- 输入：可能很长，比如字符串、文件、图片
- 输出：一个“指纹”一样的短值（通常是整数或固定长度的二进制串）

例如：

```
hash("apple") → 93241
hash("banana") → 12837
```

------

## 2. Hash 想解决什么问题？

### 问题 1：快速查找

如果没有哈希表（hash table），你要查一个元素是否在数组/链表里，平均要 **O(n)** 时间。
 有了哈希，查找可以变成 **O(1)**。

👉 这就是 **哈希表（unordered_map / unordered_set）** 的核心思想：

- key → 通过 hash 函数 → 转成数组下标
- 直接找到存储位置

例如：

```cpp
unordered_map<string, int> mp;
mp["apple"] = 10;   // 存放
cout << mp["apple"]; // O(1) 查找 → 10
```

------

### 问题 2：数据比较 & 唯一标识

- 想快速判断两个文件是否一样？计算哈希，比较一下就知道（比如 MD5、SHA256）。
- 想在数据库里判断字符串是否重复？存储哈希值比存储整个字符串更快更省空间。

------

### 问题 3：负载均衡 & 随机分布

- 在分布式系统中，hash(key) 可以决定把任务分配到哪台服务器，保证数据分布均匀。

------

## 3. 小结

Hash 的核心目标是：

✅ **把复杂问题（查找、比较、分布）转化为快速的数值运算**

具体用途：

- 哈希表：O(1) 查找/插入
- 哈希函数：文件校验、密码存储
- 哈希分布：负载均衡

------

📌 直观理解：
 哈希就像是给每个数据贴一个**唯一的标签号（指纹）**，以后找它、比对它都靠这个标签，而不用拿整个大块数据去比较。

# hash(key) 

### 1️⃣ hash(key) 不等于 value

- 哈希函数 `hash(key)` 的作用是 **把 key 映射到一个数组下标**，方便快速查找。
- 它和你存储的 value 没有直接关系。

举例：

```cpp
unordered_map<string, int> mp;
mp["apple"] = 10;
```

- `"apple"` 是 key
- `10` 是 value
- 哈希表内部会做类似：

```cpp
index = hash("apple") % table_size  // 得到数组下标
array[index] = ("apple", 10)
```

你查找 `"apple"` 时：

1. 计算 `hash("apple") → index`
2. 去数组的 index 看 key 是否匹配
3. 找到后返回 value = 10

⚠️ 这里 **hash("apple") 的结果只是数组下标**，不等于存储的 value `10`。

------

### 2️⃣ 总结

| 名称      | 作用                                        |
| --------- | ------------------------------------------- |
| key       | 用来查找（输入）                            |
| value     | 存储的数据（输出）                          |
| hash(key) | 算出 key 的存储位置（下标），方便 O(1) 查找 |

------

💡 直观理解：

- hash(key) = “apple 的标签号/位置”
- value = 你想要存的数据，比如 10
- 查找时用 key 算标签号，再去对应位置拿 value
# 编码

## Unicode

Unicode是一个国际标准，旨在为世界上所有字符和符号提供唯一的标识码。它为每个字符分配了一个唯一的数字，这些数字被称为码点。Unicode码点以十六进制表示，例如U+0041表示拉丁字母A。Unicode的目标是为全球范围内的所有字符提供统一的标准。Unicode 字符集的编码范围是 **0x0000 - 0x10FFFF**，因此需要 1 到 3 个字节来表示

##  UTF-8

UTF-8（Unicode Transformation Format - 8-bit）是Unicode的一种编码方案之一。它是一种**可变长度的编码**，使用8位字节（byte）来表示字符。UTF-8编码方案的好处是能够表示Unicode字符集中的任何字符，包括ASCII字符（使用单个字节表示）和非ASCII字符（使用多个字节表示）。对于英文字母、数字和常见符号，UTF-8使用与ASCII相同的单个字节表示，这也使得它向后兼容ASCII编码。

### 编码规则

对于非ASCII字符（Unicode码点大于127的字符），UTF-8使用多个字节来表示**（单字节表示ascii字符）**。UTF-8的编码规则如下：

1. 如果一个字符的Unicode码点在0到127之间，则使用一个字节表示，与ASCII编码完全兼容。
2. 如果一个字符的Unicode码点大于127，则使用多个字节表示。UTF-8的编码长度取决于码点的范围：
   - 2字节编码：码点范围为U+0080至U+07FF。
   - 3字节编码：码点范围为U+0800至U+FFFF。
   - 4字节编码：码点范围为U+10000至U+10FFFF。
3. 多字节编码的每个字节都以特定的位模式开始，用于指示后续字节属于该字符的编码。这样可以确保在传输和存储过程中，解码器可以准确识别字符的边界。

UTF-8编码的优势在于它能够表示Unicode字符集中的所有字符，包括全球范围内的语言、符号和表情符号。它在互联网和计算机系统中被广泛使用，成为了国际化文本交换和存储的事实标准。

对于中文汉字“好”，它在Unicode中的码点确实是U+597D，但在UTF-8编码中，它实际上需要使用三个字节来表示。正确的UTF-8编码表示为0xE5 0xA5 0xBD。

总结：**Unicode是一个字符集**，而**UTF-8是一种用于在计算机系统中存储和传输Unicode字符的编码方案**。UTF-8广泛应用于互联网和计算机系统中，因为它具有高效、兼容性强的特点，能够表示全球范围内的字符。如果你在编码中遇到问题，可能涉及到字符集和编码方案的处理方式。

## ASCII

ASCII（American Standard Code for Information Interchange）是一种**字符集和字符编码方案**的综合术语。它最初是在美国开发的，用于在计算机系统中表示英语字符和控制字符。

ASCII字符集定义了128个字符，包括大写字母、小写字母、数字、标点符号、控制字符等。每个字符都被赋予一个唯一的7位二进制值（0到127），可以用来在计算机中存储和传输。

ASCII编码方案定义了如何将这些字符映射到具体的二进制值。在ASCII编码中，每个字符被表示为一个字节（8位），其中最高位为0。因此，ASCII编码可以视为将ASCII字符集中的每个字符直接映射到一个字节的编码方案。

总结一下，ASCII既是一个字符集，定义了一组字符，又是一种编码方案，定义了将这些字符映射到二进制值的规则。ASCII字符集和编码方案通常被广泛应用于英语环境下的计算机系统和通信中。

需要注意的是，由于ASCII只覆盖了英语字符，对于其他语言的字符，比如中文、日文、俄文等，就无法用ASCII表示了。为了表示更多字符，后来出现了Unicode字符集和UTF-8等编码方案，它们可以处理全球范围内的字符。

## GBK

GBK（GuoBiao Kuozhan）是中华人民共和国国家标准局制定的**汉字字符集和编码方案**。它是对GB2312字符集的扩展，GB2312是早期用于表示简体中文字符的字符集和编码方案。

GBK字符集包含了GB2312字符集中的所有字符，同时增加了大量的繁体中文字符、特殊符号和部分其他语言的字符。GBK采用双字节编码，使用了94x94的编码空间，可以表示近22,000个字符。

在GBK编码中，每个汉字字符使用两个字节表示，其中第一个字节的范围是0x81至0xFE，第二个字节的范围是0x40至0xFE。GBK编码方案被广泛用于中文操作系统、应用程序和网页等领域，特别是在中国大陆。

需要注意的是，GBK编码不是国际标准，而是在中国国内使用的特定编码方案。对于更广泛的国际化应用，Unicode字符集及其相关编码方案如UTF-8更常见和推荐使用。

## URL编码

当在互联网上传输或存储特殊字符、非ASCII字符或保留字符时，需要对它们进行URL编码。URL编码是一种将特定字符转换为特殊表示形式的过程，以便在URL中进行安全传输和解析。

URL编码使用百分号（%）后跟两位十六进制数来表示每个字符的编码值。它的基本思想是将字符转换为它们的ASCII值，并将ASCII值表示为两个十六进制数。

URL编码的过程如下：

1. 确定要编码的字符。

2. 将字符转换为它们的ASCII值。

3. 将ASCII值转换为两个十六进制数。

4. 在每个十六进制数前添加百分号（%）作为标识。

5. 将编码后的字符添加到URL中相应的位置。

例如，假设要对字符 "Hello, World!" 进行URL编码：

1. 字符串 "Hello, World!" 中的每个字符都会被编码。

2. 字符 "H" 的ASCII值为 72，字符 "e" 的ASCII值为 101，以此类推。

3. 将每个ASCII值转换为两个十六进制数，得到 "48"、"65"、"6C"、"6C"、"6F"、"2C"、"20"、"57"、"6F"、"72"、"6C"、"64"。

4. 在每个十六进制数前面添加百分号（%），得到 "%48"、"%65"、"%6C"、"%6C"、"%6F"、"%2C"、"%20"、"%57"、"%6F"、"%72"、"%6C"、"%64"。

5. 将编码后的字符按顺序添加到URL中相应的位置，得到编码后的URL。

编码后的URL可能如下所示：`https://www.example.com/search?q=%48%65%6C%6C%6F%2C%20%57%6F%72%6C%64`

URL编码**确保特殊字符、非ASCII字符和保留字符在URL中得到正确解析和传输**，避免了可能引起错误或歧义的情况。

需要注意的是，URL编码仅仅对URL中特殊的保留字符进行编码，并不对整个URL进行编码。其他字符，如字母、数字和一些特殊字符，可以直接在URL中使用而无需进行编码。

### 中文url编码

中文字符在URL中不能直接使用，需要进行URL编码才能在URL中进行传输和解析。中文字符的URL编码遵循UTF-8编码规则。

下面是将中文字符进行URL编码的步骤：

1. 将中文字符转换为对应的UTF-8字节序列。

2. 对每个字节计算其十六进制值。

3. 在每个字节的十六进制值前添加百分号（%）作为标识。

4. 将编码后的字节序列添加到URL中相应的位置。

例如，假设要对中文字符 "你好" 进行URL编码：

1. "你好" 在UTF-8编码下的字节序列为 "%E4%BD%A0%E5%A5%BD"。这里的每个中文字符都由三个字节表示。

2. 将每个字节的十六进制值计算出来，得到 "E4"、"BD"、"A0"、"E5"、"A5"、"BD"。

3. 在每个字节的十六进制值前添加百分号（%），得到 "%E4"、"%BD"、"%A0"、"%E5"、"%A5"、"%BD"。

4. 将编码后的字节序列按顺序添加到URL中相应的位置，得到编码后的URL。

编码后的URL可能如下所示：`https://www.example.com/search?q=%E4%BD%A0%E5%A5%BD`

在URL中使用URL编码后的中文字符，确保了中文字符在URL中的正确传输和解析。接收方在解析URL时，会对URL进行解码，将URL编码的字符恢复为原始的中文字符。

需要注意的是，不同的编程语言和框架提供了相应的URL编码和解码函数/方法，可以方便地进行URL编码和解码的操作。
